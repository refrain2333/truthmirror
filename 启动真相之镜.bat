操作@echo off
chcp 65001 >nul
title 真相之镜 - 现代化启动器
color 0E

echo.
echo  ██████╗ ██████╗ ██╗   ██╗████████╗██╗  ██╗    ███╗   ███╗██╗██████╗ ██████╗  ██████╗ ██████╗ 
echo ╚══██╔══╝██╔══██╗██║   ██║╚══██╔══╝██║  ██║    ████╗ ████║██║██╔══██╗██╔══██╗██╔═══██╗██╔══██╗
echo    ██║   ██████╔╝██║   ██║   ██║   ███████║    ██╔████╔██║██║██████╔╝██████╔╝██║   ██║██████╔╝
echo    ██║   ██╔══██╗██║   ██║   ██║   ██╔══██║    ██║╚██╔╝██║██║██╔══██╗██╔══██╗██║   ██║██╔══██╗
echo    ██║   ██║  ██║╚██████╔╝   ██║   ██║  ██║    ██║ ╚═╝ ██║██║██║  ██║██║  ██║╚██████╔╝██║  ██║
echo    ╚═╝   ╚═╝  ╚═╝ ╚═════╝    ╚═╝   ╚═╝  ╚═╝    ╚═╝     ╚═╝╚═╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═╝
echo.
echo                           🌟 真相之镜 - 现代化版本 🌟
echo.
echo ====================================================================================================
echo    基于AI分析和众包验证的事件真相验证平台 - 全新现代化界面设计
echo ====================================================================================================
echo.

cd /d "%~dp0truthmirror-master"

if not exist "frontend\index.html" (
    echo [错误] 找不到前端文件，请检查目录结构
    pause
    exit /b 1
)

if not exist "backend\run.py" (
    echo [错误] 找不到后端文件，请检查目录结构
    pause
    exit /b 1
)

echo [1/3] 🚀 启动后端服务...
start "真相之镜-后端" cmd /k "title 真相之镜-后端服务 && cd backend && echo 启动后端服务... && python run.py"

echo [2/3] ⏳ 等待后端服务启动...
timeout /t 3 /nobreak >nul

echo [3/3] 🌐 启动前端服务...
start "真相之镜-前端" cmd /k "title 真相之镜-前端服务 && cd frontend && echo 启动前端服务... && python -m http.server 8080 --bind 127.0.0.1 --directory ."

echo.
echo ✅ 启动完成！
echo.
echo 📱 访问地址:
echo    💻 前端界面: http://127.0.0.1:8080
echo    🔧 后端API:  http://127.0.0.1:8000
echo    📚 API文档:  http://127.0.0.1:8000/docs
echo.
echo 🎨 现代化界面特性:
echo    ✨ 渐变背景设计
echo    🔮 毛玻璃卡片效果
echo    🎯 现代化按钮和交互
echo    📊 美观的状态标签
echo    💫 流畅的动画效果
echo.
echo 💡 提示: 打开浏览器访问 http://127.0.0.1:8080 体验全新界面！
echo.
echo 按任意键关闭此窗口...
pause >nul
